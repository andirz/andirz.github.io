---
layout: page
title: Mod Categories
permalink: /categories/
icon: fas fa-tags
order: 3
---

<style>
  .cat-cloud{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    margin-top: 14px;
    margin-bottom: 14px;
  }

  .cat-pill{
    display:inline-block;
    padding: 7px 12px;
    border-radius: 999px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--text-muted);
    font-weight: 750;
    font-size: .9rem;
    text-decoration: none;
    line-height: 1.1;
    transition: border-color .12s ease, box-shadow .12s ease, background-color .12s ease;
  }

  .cat-pill:hover{
    border-color: rgba(0,0,0,.22);
    box-shadow: 0 0 0 3px rgba(0,0,0,.05);
  }

  .cat-pill.is-active{
    color: var(--link-color);
    border-color: rgba(0,0,0,.22);
    background: rgba(0,0,0,.03);
    box-shadow: 0 0 0 4px rgba(0,0,0,.07);
  }

  .cat-selected{
    display:none;
    margin-top: 6px;
    margin-bottom: 12px;
    color: var(--text-muted);
    font-size: .95rem;
  }

  .cat-selected a{
    color: var(--link-color);
    text-decoration: none;
    font-weight: 800;
  }

  .mods-grid{
    display:none;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 16px;
    margin-top: 16px;
  }

  .mod-card{
    background: var(--bg-primary);
    border: 1px solid var(--border-color);
    border-radius: 18px;
    padding: 16px 16px 14px;
    box-shadow: 0 10px 26px rgba(0,0,0,0.06);
    transition: box-shadow .14s ease, border-color .14s ease;
  }

  .mod-card:hover{
    border-color: rgba(0,0,0,.18);
    box-shadow: 0 14px 34px rgba(0,0,0,0.09);
  }

  .mod-head{
    display:flex;
    align-items:center;
    gap: 12px;
    margin-bottom: 10px;
  }

  .mod-icon{
    width: 54px;
    height: 54px;
    border-radius: 16px;
    display:flex;
    align-items:center;
    justify-content:center;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    color: var(--accent-color);
    flex: 0 0 auto;
  }

  .mod-title{
    min-width: 0;
    line-height: 1.1;
  }

  .mod-title a{
    color: var(--link-color);
    text-decoration: none;
    font-weight: 900;
    font-size: 1.12rem;
    display:inline-block;
  }

  .mod-tagline{
    margin-top: 6px;
    color: var(--text-muted);
    font-size: .93rem;
    line-height: 1.42;
  }

  .mod-meta{
    display:flex;
    flex-wrap:wrap;
    gap: 6px;
    margin-top: 12px;
  }

  .chip{
    display:inline-block;
    padding: 3px 8px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    font-weight: 700;
    font-size: .75rem;
    line-height: 1.2;
    color: var(--text-muted);
  }

  .chip-pack{
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    background: rgba(128,128,128,0.10);
    border: 1px solid rgba(128,128128,0.18);
  }
</style>

<h1 style="display:flex;align-items:center;gap:10px;margin-top:0;">
  <i class="fas fa-tags" style="color:var(--accent-color);"></i>
  Mod Categories
</h1>

<p style="margin-top:0;color:var(--text-muted);">
  Pick a category to see matching mods.
</p>

{% assign all_cats = "" | split: "|" %}
{% for m in site.mods %}
  {% if m.categories %}
    {% for c in m.categories %}
      {% assign all_cats = all_cats | push: c %}
    {% endfor %}
  {% endif %}
{% endfor %}

{% assign unique_cats = "" | split: "|" %}
{% for c in all_cats %}
  {% assign c_clean = c | strip %}
  {% unless unique_cats contains c_clean %}
    {% assign unique_cats = unique_cats | push: c_clean %}
  {% endunless %}
{% endfor %}
{% assign unique_cats = unique_cats | sort %}

<div class="cat-cloud" id="catCloud">
  {% for c in unique_cats %}
    <a class="cat-pill"
       href="{{ site.baseurl }}/categories/?cat={{ c | url_encode }}"
       data-cat="{{ c | escape }}">
      {{ c }}
    </a>
  {% endfor %}
</div>

<div class="cat-selected" id="catSelected">
  Showing category: <strong id="catSelectedName"></strong>
  · <a href="{{ site.baseurl }}/categories/">clear</a>
</div>

<div class="mods-grid" id="modsGrid">
{% for mod_entry in site.data.mods %}
  {% assign mod_page = site.mods | where: "mod_id", mod_entry.id | first %}

  {% assign display_name = mod_page.title | default: mod_entry.name | default: mod_entry.id %}
  {% assign display_icon = mod_page.icon | default: mod_entry.icon | default: 'fas fa-box' %}
  {% assign url = mod_page.url | relative_url %}
  {% assign cats = mod_page.categories | default: mod_entry.categories | default: "" %}

  {%- comment -%} Tagline-Priorität: Page -> Data -> Excerpt -> Content-Fallback {%- endcomment -%}
  {% assign tagline = mod_page.tagline | default: mod_entry.tagline %}
  {% if tagline == nil or tagline == "" %}
    {% if mod_page and mod_page.excerpt %}
      {% assign tagline = mod_page.excerpt | strip_html | strip | truncate: 120 %}
    {% elsif mod_page and mod_page.content %}
      {% assign tagline = mod_page.content | strip_html | strip | truncate: 120 %}
    {% else %}
      {% assign tagline = "Explore this mod and its features." %}
    {% endif %}
  {% endif %}

  {% assign current_version = mod_page.version | default: mod_entry.version %}
  {% assign final_packs = mod_page.packs | default: mod_entry.packs %}

  <div class="mod-card" data-categories="{{ cats | join:'|' | escape }}">
    <div class="mod-head">
      <div class="mod-icon" aria-hidden="true">
        <i class="{{ display_icon }}" style="font-size:1.35rem;"></i>
      </div>

      <div class="mod-title">
        {% if mod_page %}
          <a href="{{ url }}">{{ display_name }}</a>
        {% else %}
          <span style="font-weight:900; opacity:.75;">{{ display_name }}</span>
        {% endif %}

        <div class="mod-tagline">{{ tagline }}</div>
      </div>
    </div>

    <div class="mod-meta">
      {% if current_version %}
        <span class="chip" title="Version">v{{ current_version }}</span>
      {% endif %}

      {% if final_packs and final_packs.size > 0 %}
        {% for p in final_packs %}
          {% if p != "BG" %}
            <span class="chip chip-pack" title="{{ site.data.packs[p].en | default: p }}">{{ p }}</span>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>
{% endfor %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const params = new URLSearchParams(window.location.search);
  const cat = params.get('cat');
  if (!cat) return;

  const grid = document.getElementById('modsGrid');
  const selected = document.getElementById('catSelected');
  const selectedName = document.getElementById('catSelectedName');
  const pills = document.querySelectorAll('.cat-pill');

  selected.style.display = 'block';
  selectedName.textContent = cat;
  grid.style.display = 'grid';

  pills.forEach(p => {
    if ((p.getAttribute('data-cat') || '').trim() === cat.trim()) p.classList.add('is-active');
  });

  const cards = grid.querySelectorAll('[data-categories]');
  let shown = 0;

  cards.forEach(card => {
    const cats = (card.getAttribute('data-categories') || '').split('|').map(s => s.trim());
    const ok = cats.includes(cat.trim());
    card.style.display = ok ? '' : 'none';
    if (ok) shown++;
  });

  if (shown === 0) {
    const msg = document.createElement('div');
    msg.style.color = 'var(--text-muted)';
    msg.style.marginTop = '10px';
    msg.textContent = 'No mods found in this category.';
    grid.insertAdjacentElement('afterend', msg);
  }
});
</script>
