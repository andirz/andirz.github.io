<div id="legal-popup-overlay" style="display:none; position:fixed; z-index:9999999 !important; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); align-items: center; justify-content: center; padding: 20px;">
  
  <div id="legal-popup-card" style="background-color:#ffffff; padding:40px; border-radius:8px; max-width:600px; width: 100%; font-family: sans-serif; box-shadow: 0 30px 60px rgba(0,0,0,0.5); border-top: 8px solid #007bff; position: relative; pointer-events: auto !important;">
    
    <div style="display: flex; justify-content: flex-end; gap: 10px; margin-bottom: 20px;">
      <button type="button" onclick="document.getElementById('pop-content-en').style.display='block'; document.getElementById('pop-content-de').style.display='none'; this.style.background='#007bff'; this.style.color='#fff'; document.getElementById('btn-lang-de').style.background='#fff'; document.getElementById('btn-lang-de').style.color='#333';" style="cursor:pointer; border:1px solid #007bff; background:#007bff; color:#fff; padding:6px 15px; border-radius:4px; font-weight:bold;">EN</button>
      <button type="button" id="btn-lang-de" onclick="document.getElementById('pop-content-en').style.display='none'; document.getElementById('pop-content-de').style.display='block'; this.style.background='#007bff'; this.style.color='#fff'; this.previousElementSibling.style.background='#fff'; this.previousElementSibling.style.color='#333';" style="cursor:pointer; border:1px solid #ddd; background:#fff; color:#333; padding:6px 15px; border-radius:4px; font-weight:bold;">DE</button>
    </div>

    <div id="pop-content-en" style="display:block;">
      <h2 style="margin-top:0; color:#111; font-family: Georgia, serif; border-bottom: 1px solid #eee; padding-bottom: 10px;">Legal Access Notice</h2>
      <p style="line-height:1.6; color:#333;">Welcome to <strong>{{ site.title }}</strong>. By entering, you acknowledge:</p>
      <ul style="line-height:1.6; color:#444; font-size: 0.9rem;">
        <li>Use of necessary logs (IP) via GitHub & Hostinger (Art. 6 GDPR).</li>
        <li>No tracking or marketing cookies are used here.</li>
        <li><strong>No mod support</strong> or technical requests via official contact.</li>
      </ul>
      <p style="font-size:0.8rem; color:#888; margin-top:15px;">Full details: <a href="/impressum/" style="color:#007bff; font-weight:bold;">Legal Notice</a></p>
    </div>

    <div id="pop-content-de" style="display:none;">
      <h2 style="margin-top:0; color:#111; font-family: Georgia, serif; border-bottom: 1px solid #eee; padding-bottom: 10px;">Rechtlicher Hinweis</h2>
      <p style="line-height:1.6; color:#333;">Willkommen bei <strong>{{ site.title }}</strong>. Mit dem Betreten bestätigen Sie:</p>
      <ul style="line-height:1.6; color:#444; font-size: 0.9rem;">
        <li>Nutzung notwendiger Logs (IP) durch GitHub & Hostinger (Art. 6 DSGVO).</li>
        <li>Kein Tracking, keine Marketing-Cookies.</li>
        <li><strong>Kein Mod-Support</strong> oder Support-Anfragen über Kontaktwege.</li>
      </ul>
      <p style="font-size:0.8rem; color:#888; margin-top:15px;">Details: <a href="/impressum/" style="color:#007bff; font-weight:bold;">Impressum</a></p>
    </div>

    <div style="margin-top: 30px;">
      <button type="button" onclick="localStorage.setItem('legal_v2026_final', 'true'); document.getElementById('legal-popup-overlay').style.setProperty('display', 'none', 'important'); document.body.style.overflow='auto';" style="background-color:#007bff; color:#fff; border:none; padding:18px; border-radius:4px; cursor:pointer; font-weight:bold; font-size:1.1rem; width:100%; transition: background 0.2s;">
        I UNDERSTAND & ENTER
      </button>
    </div>
  </div>
</div>

<script>
  // Sofort-Check ohne auf DOMContentLoaded zu warten
  if (!localStorage.getItem('legal_v2026_final')) {
    var ov = document.getElementById('legal-popup-overlay');
    ov.style.setProperty('display', 'flex', 'important');
    document.body.style.overflow = 'hidden';
  }
</script>
