<style>
  .shoot-section { background: white; border-radius: 24px; padding: 30px; border: 1px solid #e2e8f0; margin: 20px 0; }
  .shoot-badge { background: #f8fafc; border: 1px solid rgba(0,0,0,0.07); border-radius: 999px; padding: 8px 12px; font-weight: 700; color: #0f172a; display: inline-block; margin: 5px; }
  .shoot-stage { position: relative; width: 100%; max-width: 520px; aspect-ratio: 1/1; background: #0f172a; border-radius: 18px; overflow: hidden; margin: 0 auto; cursor: crosshair; }
  .target-img { position: absolute; width: 80px; cursor: pointer; transition: opacity 0.2s; }
  .evil { filter: brightness(0.3) sepia(1) hue-rotate(-50deg); }
  .good { filter: brightness(1.2) drop-shadow(0 0 10px #2ecc71); }
</style>

<section class="shoot-section text-center">
  <h2 class="fw-800">Quickdraw</h2>
  <div class="mb-2">
    <div class="shoot-badge">Score: <span id="s-score">0</span></div>
    <div class="shoot-badge">Time: <span id="s-time">30</span>s</div>
  </div>
  <button class="btn btn-danger mb-3" onclick="window.qdStart()">Start Challenge</button>
  <div class="shoot-stage" id="s-stage"></div>
</section>

<script>
(function() {
  const basePath = "/assets/img/packs_blue/";
  let score = 0, timeLeft = 30, running = false, combo = 1;
  const stage = document.getElementById('s-stage');

  window.qdStart = function() {
    if(running) return;
    score = 0; timeLeft = 30; running = true; combo = 1;
    stage.innerHTML = '';
    const loop = setInterval(() => { if(running) spawn(); else clearInterval(loop); }, 1000);
    const clock = setInterval(() => {
      timeLeft--;
      document.getElementById('s-time').innerText = timeLeft;
      if(timeLeft <= 0) { running = false; clearInterval(clock); alert('Game Over! Score: ' + score); }
    }, 1000);
  };

  function spawn() {
    const isEvil = Math.random() > 0.4;
    const img = document.createElement('img');
    img.src = `${basePath}gp01.png`;
    img.className = 'target-img ' + (isEvil ? 'evil' : 'good');
    img.style.left = Math.random() * 400 + 'px';
    img.style.top = Math.random() * 400 + 'px';
    img.onclick = () => {
      if(isEvil) { score += 10 * combo; combo++; } 
      else { score -= 50; timeLeft -= 3; combo = 1; }
      document.getElementById('s-score').innerText = score;
      img.remove();
    };
    stage.appendChild(img);
    setTimeout(() => img.remove(), 1200);
  }
})();
</script>