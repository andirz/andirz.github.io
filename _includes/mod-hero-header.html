{% comment %} 1. Daten laden (nur noch für Namen und Kategorien nötig) {% endcomment %}
{% assign mod_entry = site.data.mods | where: "id", page.mod_id | first %}

<header class="mod-header" style="margin-bottom: 40px; border-bottom: 1px solid var(--border-color, #eee); padding-bottom: 30px;">
  
  {% comment %} 
    2. STATUS KACHEL (Automatisch): 
    Dieses Include ersetzt jetzt die manuelle Farbberechnung, das Versions- und das Datums-Feld.
  {% endcomment %}
  {% include mod-status-display.html mod=mod_entry style="card" %}

  {% comment %} 3. Kategorien & Zusätzliche Infos {% endcomment %}
  <div class="mod-tags-row" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-top: 15px;">
    {% assign categories = page.categories | default: mod_entry.categories %}
    {% for cat in categories %}
      <span style="border: 1px solid #e2e8f0; color: #64748b; padding: 5px 14px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; background: #f8fafc;">
        {{ cat }}
      </span>
    {% endfor %}

    {% comment %} Dateityp-Icons separat halten, falls gewünscht {% endcomment %}
    <div style="margin-left: 10px; padding-left: 15px; border-left: 1px solid #f1f5f9;">
      {% include mod-file-icons.html files=page.files icon_color="#cbd5e1" %}
    </div>
  </div>
</header>
